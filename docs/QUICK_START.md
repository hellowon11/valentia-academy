# å¿«é€Ÿå¯åŠ¨æŒ‡å— - åå°ç®¡ç†ç³»ç»Ÿ

## âœ… æ˜¯çš„ï¼Œéœ€è¦åç«¯ï¼

åå°ç®¡ç†ç³»ç»Ÿ**å¿…é¡»**å¯åŠ¨åç«¯æœåŠ¡å™¨æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºï¼š
- åç«¯å­˜å‚¨æ‰€æœ‰æŠ¥åæ•°æ®
- åç«¯å¤„ç†ç™»å½•è®¤è¯
- åç«¯æä¾› API æ¥å£
- åç«¯ç”Ÿæˆ Excel å¯¼å‡ºæ–‡ä»¶

## ğŸš€ å®Œæ•´å¯åŠ¨æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…åç«¯ä¾èµ–

```bash
cd server
npm install
```

è¿™ä¼šå®‰è£…ï¼š
- better-sqlite3ï¼ˆæ•°æ®åº“ï¼‰
- exceljsï¼ˆExcel å¯¼å‡ºï¼‰
- bcryptjsï¼ˆå¯†ç åŠ å¯†ï¼‰
- jsonwebtokenï¼ˆè®¤è¯ä»¤ç‰Œï¼‰

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
# åœ¨ server ç›®å½•ä¸‹
npm start

# æˆ–è€…å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

åç«¯ä¼šåœ¨ **http://localhost:3001** å¯åŠ¨

ä½ åº”è¯¥çœ‹åˆ°ï¼š
```
ğŸš€ Valentia Backend Server is running on port 3001
âœ… Email server is ready to send messages
ğŸ’¾ Database initialized
âœ… Default admin user created (username: admin, password: admin123)
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®å‰ç«¯ä»£ç†ï¼ˆå¯é€‰ä½†æ¨èï¼‰

ä¸ºäº†å‰ç«¯èƒ½ç›´æ¥è®¿é—®åç«¯ APIï¼Œæ›´æ–° `vite.config.ts`ï¼š

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  optimizeDeps: {
    exclude: ['lucide-react'],
  },
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
      },
    },
  },
});
```

### ç¬¬å››æ­¥ï¼šæ·»åŠ è·¯ç”±æ”¯æŒ

é¡¹ç›®ç›®å‰ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ  admin è·¯ç”±ã€‚æœ‰ä¸¤ç§æ–¹å¼ï¼š

#### æ–¹å¼ Aï¼šä½¿ç”¨ React Routerï¼ˆæ¨èï¼‰

1. å®‰è£… React Routerï¼š
```bash
npm install react-router-dom
```

2. æ›´æ–° `src/main.tsx` æ·»åŠ è·¯ç”±æ”¯æŒ

#### æ–¹å¼ Bï¼šæ‰©å±•ç°æœ‰è·¯ç”±ç³»ç»Ÿ

ç›´æ¥åœ¨ `App.tsx` ä¸­æ·»åŠ  admin è·¯ç”±å¤„ç†

### ç¬¬äº”æ­¥ï¼šå¯åŠ¨å‰ç«¯

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run dev
```

å‰ç«¯ä¼šåœ¨ **http://localhost:5173** å¯åŠ¨

### ç¬¬å…­æ­¥ï¼šè®¿é—®åå°ç®¡ç†

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
```
http://localhost:5173/admin/login
```

**é»˜è®¤ç™»å½•ä¿¡æ¯ï¼š**
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

## ğŸ“‹ åŒæ—¶è¿è¡Œä¸¤ä¸ªæœåŠ¡å™¨

ä½ éœ€è¦**åŒæ—¶è¿è¡Œ**å‰ç«¯å’Œåç«¯ï¼š

**ç»ˆç«¯ 1 - åç«¯ï¼š**
```bash
cd server
npm start
```

**ç»ˆç«¯ 2 - å‰ç«¯ï¼š**
```bash
npm run dev
```

## ğŸ” éªŒè¯æ˜¯å¦æ­£å¸¸å·¥ä½œ

1. åç«¯è¿è¡Œæ­£å¸¸ï¼š
   - è®¿é—® http://localhost:3001/api/health
   - åº”è¯¥è¿”å› `{"status":"OK"}`

2. æ•°æ®åº“å·²åˆ›å»ºï¼š
   - æ£€æŸ¥ `server/data/applications.db` æ–‡ä»¶æ˜¯å¦å­˜åœ¨

3. å‰ç«¯å¯ä»¥è®¿é—®ï¼š
   - æ‰“å¼€ http://localhost:5173/admin/login
   - åº”è¯¥çœ‹åˆ°ç™»å½•é¡µé¢

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: åç«¯å¯åŠ¨å¤±è´¥
```
Error: Cannot find module 'better-sqlite3'
```
**è§£å†³ï¼š** è¿è¡Œ `cd server && npm install`

### é—®é¢˜ 2: å‰ç«¯æ— æ³•è¿æ¥åç«¯
```
Failed to fetch
```
**è§£å†³ï¼š**
- ç¡®ä¿åç«¯æ­£åœ¨è¿è¡Œï¼ˆç«¯å£ 3001ï¼‰
- æ£€æŸ¥ vite.config.ts æ˜¯å¦é…ç½®äº†ä»£ç†
- æˆ–è€…ç›´æ¥åœ¨ç®¡ç†é¡µé¢ä¸­ä¿®æ”¹ API åœ°å€ä¸º `http://localhost:3001`

### é—®é¢˜ 3: ç™»å½•åæ˜¾ç¤º 401 é”™è¯¯
**è§£å†³ï¼š** 
- æ£€æŸ¥åç«¯æ˜¯å¦æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ JWT_SECRET æ˜¯å¦è®¾ç½®
- æŸ¥çœ‹åç«¯æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 4: æ•°æ®åº“æ–‡ä»¶æœªåˆ›å»º
**è§£å†³ï¼š**
- æ£€æŸ¥ `server/data` ç›®å½•æ˜¯å¦å­˜åœ¨ä¸”å¯å†™
- æŸ¥çœ‹åç«¯å¯åŠ¨æ—¥å¿—

## ğŸ“ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `server` ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PORT=3001
FRONTEND_URL=http://localhost:5173
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
JWT_SECRET=your-secret-key-change-in-production
```

å¦‚æœæ²¡æœ‰ `.env` æ–‡ä»¶ï¼Œä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œä½†å»ºè®®é…ç½®ã€‚

## ğŸ¯ æµ‹è¯•æµç¨‹

1. âœ… å¯åŠ¨åç«¯æœåŠ¡å™¨
2. âœ… å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
3. âœ… è®¿é—® http://localhost:5173/admin/login
4. âœ… ä½¿ç”¨ admin/admin123 ç™»å½•
5. âœ… æŸ¥çœ‹æŠ¥ååˆ—è¡¨
6. âœ… æµ‹è¯•å¯¼å‡º Excel åŠŸèƒ½

## ğŸ’¡ æç¤º

- **å¼€å‘æ—¶**ï¼šä¸¤ä¸ªç»ˆç«¯çª—å£ï¼Œä¸€ä¸ªè¿è¡Œå‰ç«¯ï¼Œä¸€ä¸ªè¿è¡Œåç«¯
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šå¯ä»¥ä½¿ç”¨ PM2 æˆ–å…¶ä»–å·¥å…·åŒæ—¶ç®¡ç†å‰åç«¯
- **æ•°æ®åº“ä½ç½®**ï¼š`server/data/applications.db`
- **ä¸Šä¼ æ–‡ä»¶ä½ç½®**ï¼š`server/uploads/`
